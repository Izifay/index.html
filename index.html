<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>HBD Zaki üéâ</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Animate.css -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />

  <style>
    .slide {
      animation: slideIn 0.6s ease forwards;
    }
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(40px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
  </style>
</head>

<body
  class="min-h-screen flex items-center justify-center bg-cover bg-center"
  style="background-image: url('https://images.unsplash.com/photo-1530273973427-22351773250c?q=80&w=1470');"
>

  <!-- KARTU -->
  <div
    id="kartu"
    class="backdrop-blur-lg bg-white/70 border border-white/40
           shadow-2xl rounded-2xl text-center px-8 py-8 w-80 transition-all duration-500"
  ></div>

  <!-- AUDIO -->
  <audio id="bgMusic" src="musik.mp3"></audio>

  <!-- BUTTON MUSIC -->
  <button
    id="musicBtn"
    class="fixed bottom-6 right-6 px-4 py-2 bg-black/60 text-white
           rounded-full backdrop-blur animate-pulse"
  >
    ‚ñ∂ Play
  </button>

  <!-- CONFETTI -->
  <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>

  <!-- SCRIPT -->
  <script>
    const kartu = document.getElementById("kartu");
    const music = document.getElementById("bgMusic");
    const musicBtn = document.getElementById("musicBtn");

    let isPlaying = false;
    let currentPhoto = 0;

    const photos = [
      "https://i.pinimg.com/736x/76/a2/54/76a254dfd5e244f720afd3df11caa657.jpg",
      "https://i.pinimg.com/736x/2b/95/9d/2b959d5bcfa3fba222b87f4523bdcbc8.jpg",
      "https://i.pinimg.com/736x/3c/db/56/3cdb5693fea9973d3ad2f4c82f35e8bb.jpg"
    ];

    confetti({ particleCount: 80, spread: 70, origin: { y: 0.6 } });

    // MUSIC
    musicBtn.onclick = () => {
      if (!isPlaying) {
        music.volume = 0.7;
        music.play().then(() => {
          musicBtn.innerText = "‚è∏ Pause";
          isPlaying = true;
        });
      } else {
        music.pause();
        musicBtn.innerText = "‚ñ∂ Play";
        isPlaying = false;
      }
    };

    // SLIDE 1
    function renderSlide1() {
      kartu.innerHTML = `
        <div class="slide">
          <h1 class="text-3xl">Happy Birthday</h1>
          <h2 class="text-4xl text-blue-600 font-bold animate__animated animate__pulse animate__infinite">
            Zaki
          </h2>

          <button
            class="mt-5 p-2 bg-blue-600 text-white rounded-full w-full hover:scale-105 transition"
            onclick="renderSlideFoto()"
          >
            Klik Disini üéÅ
          </button>
        </div>
      `;
    }

    // SLIDE FOTO
    function renderSlideFoto() {
      kartu.innerHTML = `
        <div class="slide">
          <h2 class="text-xl font-semibold mb-3">Sorotan üì∏</h2>

          <img
            src="${photos[currentPhoto]}"
            class="rounded-xl mb-3 mx-auto shadow-lg"
          />

          <div class="flex justify-between items-center gap-2">
            <button onclick="prevPhoto()" class="bg-blue-500 text-white px-3 py-1 rounded-full">‚óÄ</button>
            <span class="text-sm text-blue-500 font-bold">Lihat Sampai Selesai...</span>
            <button onclick="nextPhoto()" class="bg-blue-500 text-white px-3 py-1 rounded-full">‚ñ∂</button>
          </div>

          <button
            class="mt-4 p-2 bg-green-600 text-white rounded-full w-full hover:scale-105 transition"
            onclick="renderSlideUcapan()"
          >
            Lanjut üíå
          </button>
        </div>
      `;
    }

    function prevPhoto() {
      currentPhoto = currentPhoto === 0 ? photos.length - 1 : currentPhoto - 1;
      renderSlideFoto();
    }

    function nextPhoto() {
      currentPhoto = currentPhoto === photos.length - 1 ? 0 : currentPhoto + 1;
      renderSlideFoto();
    }

    // SLIDE UCAPAN
    function renderSlideUcapan() {
      kartu.innerHTML = `
        <div class="slide">
          <p id="typedText" class="text-lg font-medium"></p>
          <h2 class="mt-3 font-semibold">‚Äî Dari : Fairuz ü§ç ‚Äî</h2>

          <button
            class="mt-4 p-2 bg-slate-700 text-white rounded-full w-full"
            onclick="renderSlide1()"
          >
            Tutup
          </button>
        </div>
      `;

      typeEffect(
        document.getElementById("typedText"),
        "Selamat ulang tahun üéâ Semoga selalu sehat, bahagia, dan semua impianmu tercapai ‚ú®"
      );
    }

    // TYPE EFFECT
    function typeEffect(el, text, speed = 40) {
      el.innerHTML = "";
      let i = 0;
      const typing = setInterval(() => {
        el.innerHTML += text.charAt(i);
        i++;
        if (i === text.length) clearInterval(typing);
      }, speed);
    }

    renderSlide1();
  </script>
</body>
</html>
